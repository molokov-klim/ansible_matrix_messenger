# План по исправлению ошибки подключения к серверу через SSH

## Причины ошибки

1. **Permission denied (publickey,password)**:
   - Ansible не может аутентифицироваться на удаленном сервере
   - Несмотря на то, что сервер настроен для аутентификации по паролю
   - SSH может использовать аутентификацию по ключу в первую очередь

2. **Проблема с настройками аутентификации**:
   - Ansible может не использовать пароль корректно
   - SSH может отдавать предпочтение аутентификации по ключу

## Решения

### Вариант 1: Явно указать метод аутентификации по паролю

Обновить inventory файл, чтобы:
- Явно указать, что нужно использовать аутентификацию по паролю
- Отключить аутентификацию по ключу

### Вариант 2: Проверить настройки SSH клиента

Проверить и обновить настройки SSH клиента в GitHub Actions:
- Убедиться, что SSH клиент настроен для использования пароля
- Проверить порядок аутентификации

## Рекомендуемое решение

Используем Вариант 1 - явно указать метод аутентификации по паролю

## План действий

1. Обновить workflow, чтобы добавить параметры аутентификации в inventory файл:
   - ansible_ssh_extra_args='-o PreferredAuthentications=password -o PubkeyAuthentication=no'

2. Проверить, что учетные данные в GitHub Secrets корректны:
   - ANSIBLE_HOST=91.219.150.226
   - ANSIBLE_USER=hash
   - ANSIBLE_PASSWORD=0708

3. Запустить деплой для проверки

## Проверка

После реализации:
- Убедиться, что Ansible может подключиться к серверу по SSH
- Проверить, что плейбук выполняется успешно
- Убедиться, что деплой проходит без ошибок подключения