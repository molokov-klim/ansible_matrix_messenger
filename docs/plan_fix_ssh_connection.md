# План по исправлению ошибки подключения к серверу через SSH

## Причины ошибки

1. **Permission denied (publickey,password)**:
   - Ansible не может аутентифицироваться на удаленном сервере
   - Неправильные учетные данные (логин/пароль)
   - Неправильный SSH-ключ
   - Сервер не настроен для аутентификации по паролю

2. **Неправильная настройка подключения**:
   - Неправильный IP-адрес или hostname сервера
   - Неправильный порт SSH
   - Неправильные настройки в inventory файле

## Решения

### Вариант 1: Использовать SSH-ключи вместо пароля (НЕТ!)

Обновить workflow и inventory файл, чтобы:
- Использовать SSH-ключи для аутентификации
- Удалить использование пароля из inventory файла
- Настроить SSH-ключи в GitHub Secrets

### Вариант 2: Проверить и исправить учетные данные

Проверить и обновить:
- Правильный логин пользователя на сервере
- Правильный пароль пользователя
- Правильный IP-адрес или hostname сервера

### Вариант 3: Настроить сервер для аутентификации по паролю

Если использование пароля необходимо:
- Убедиться, что сервер настроен для аутентификации по паролю
- Проверить настройки SSH-сервера (PasswordAuthentication yes)
- Убедиться, что пользователь может аутентифицироваться по паролю

## Рекомендуемое решение

ИСПРАВЛЕНО!
Используем Вариант 2 и 3 - я проверил Github Secrets

Для Варианта 3 - подключись и настрой
Вот значения переменных (не коммить их! они только для тебя)
```txt
export ANSIBLE_HOST=91.219.150.226
export ANSIBLE_USER=hash
export ANSIBLE_PASSWORD=0708
export MATRIX_ADMIN_PASSWORD=Nuke78910pt5!
export POSTGRES_PASSWORD=qweasdzxc123
export VAULT_PASSWORD=qweasdzxc123
```

## План действий

1. Обновить workflow, чтобы он включал пароль для подключения в inventory файл
2. Убедиться, что сервер настроен для аутентификации по паролю
3. Проверить, что учетные данные корректны
4. Запустить деплой для проверки

## Проверка

После реализации:
- Убедиться, что Ansible может подключиться к серверу по SSH
- Проверить, что плейбук выполняется успешно
- Убедиться, что деплой проходит без ошибок подключения